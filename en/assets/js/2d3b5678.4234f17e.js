"use strict";(self.webpackChunkpromptgineering=self.webpackChunkpromptgineering||[]).push([[833],{3905:(e,t,n)=>{n.d(t,{Zo:()=>m,kt:()=>d});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},c="mdxType",f={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,p=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=l(n),u=o,d=c["".concat(p,".").concat(u)]||c[u]||f[u]||a;return n?r.createElement(d,i(i({ref:t},m),{},{components:n})):r.createElement(d,i({ref:t},m))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=u;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},47691:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>m});var r=n(87462),o=(n(67294),n(3905));const a=n.p+"assets/images/prompt_tuning-c6ca2065dd8c0e4671b2091eeb82aca2.png",i={sidebar_position:1},s="\ud83d\udd34 Soft Prompts",p={unversionedId:"trainable/soft_prompting",id:"trainable/soft_prompting",title:"\ud83d\udd34 Soft Prompts",description:"Prompt tuning(@lester2021power), an alternative to model fine tuning(@khashabi2021prompt), freezes the model weights, and updates the parameters of a prompt. The resultant prompt is a 'soft prompt'.",source:"@site/docs/trainable/soft_prompting.md",sourceDirName:"trainable",slug:"/trainable/soft_prompting",permalink:"/en/docs/trainable/soft_prompting",draft:!1,editUrl:"https://github.com/trigaten/promptgineering/tree/v1.2.3/docs/trainable/soft_prompting.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udcaa Prompt Tuning",permalink:"/en/docs/category/-prompt-tuning"},next:{title:"\ud83d\udd34 Interpretable Soft Prompts",permalink:"/en/docs/trainable/discretized"}},l={},m=[{value:"How it works",id:"how-it-works",level:2}],c={toc:m},f="wrapper";function u(e){let{components:t,...n}=e;return(0,o.kt)(f,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"-soft-prompts"},"\ud83d\udd34 Soft Prompts"),(0,o.kt)("p",null,"Prompt tuning",(0,o.kt)("sup",{parentName:"p",id:"fnref-1"},(0,o.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")),", an alternative to model fine tuning",(0,o.kt)("sup",{parentName:"p",id:"fnref-2"},(0,o.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2")),", freezes the model weights, and updates the parameters of a prompt. The resultant prompt is a 'soft prompt'."),(0,o.kt)("div",{style:{textAlign:"center"}},(0,o.kt)("img",{src:a,style:{width:"500px"}})),(0,o.kt)("div",{style:{textAlign:"center"}},"Model Tuning vs Prompt Tuning (Lester et al.)"),(0,o.kt)("p",null,"The above image contrasts model tuning with prompt tuning.\nIn model tuning, you finetune the same model on different tasks. This gives you\na few different models, with which you can't necessarily batch inputs easily."),(0,o.kt)("p",null,"On the other hand, prompt tuning lets you use the same model for all tasks. You\njust need to append the proper prompts at inference time, which makes batching across\ndifferent tasks easier. This is pretty much the same advantage that regular prompting\nhas. Additionally, soft prompts trained for a single model across\nmultiple tasks will often be of the same token length."),(0,o.kt)("h2",{id:"how-it-works"},"How it works"),(0,o.kt)("p",null,"To understand the basic logic behind soft prompting, let's think about how ",(0,o.kt)("strong",{parentName:"p"},"model inference")," works\non a given prompt: ",(0,o.kt)("inlineCode",{parentName:"p"},"What's 2+2?"),"."),(0,o.kt)("p",null,"1) It might be tokenized as ",(0,o.kt)("inlineCode",{parentName:"p"},"What, 's, 2, +, 2, ?"),". "),(0,o.kt)("p",null,"2) Then, each token will be converted to a vector of values."),(0,o.kt)("p",null,"3) This vectors of values can be considered as model parameters. The model can be further\ntrained, only adjusting the weights of these prompts."),(0,o.kt)("p",null,"Note that as soon as we start updating these weights, the vectors of the tokens no\nlonger correspond to actual embeddings from the vocabulary."),(0,o.kt)("h1",{id:"results"},"Results"),(0,o.kt)("p",null,"Prompt tuning performs better with larger models. Larger models also require less\nsoft prompt tokens. Regardless, more than 20 tokens does not yield significant performance gains."),(0,o.kt)("div",{className:"footnotes"},(0,o.kt)("hr",{parentName:"div"}),(0,o.kt)("ol",{parentName:"div"},(0,o.kt)("li",{parentName:"ol",id:"fn-1"},"Lester, B., Al-Rfou, R., & Constant, N. (2021). The Power of Scale for Parameter-Efficient Prompt Tuning.\n",(0,o.kt)("a",{parentName:"li",href:"#fnref-1",className:"footnote-backref"},"\u21a9")),(0,o.kt)("li",{parentName:"ol",id:"fn-2"},"Khashabi, D., Lyu, S., Min, S., Qin, L., Richardson, K., Welleck, S., Hajishirzi, H., Khot, T., Sabharwal, A., Singh, S., & Choi, Y. (2021). Prompt Waywardness: The Curious Case of Discretized Interpretation of Continuous Prompts.\n",(0,o.kt)("a",{parentName:"li",href:"#fnref-2",className:"footnote-backref"},"\u21a9")))))}u.isMDXComponent=!0}}]);